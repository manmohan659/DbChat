{"ast":null,"code":"var _jsxFileName = \"/Users/manmohan/dbchat/frontend/src/App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport ChatComponent from './ChatComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [connectionStatus, setConnectionStatus] = useState('');\n  const [dbConfig, setDbConfig] = useState({\n    host: 'localhost',\n    port: '3306',\n    username: 'root',\n    password: '',\n    database: 'testdb'\n  });\n  useEffect(() => {\n    testBackendConnection();\n  }, []);\n  const testBackendConnection = async () => {\n    try {\n      const response = await fetch('/api/database/test');\n      if (response.ok) {\n        console.log('Backend is reachable');\n      } else {\n        console.error('Failed to reach backend');\n      }\n    } catch (error) {\n      console.error('Error testing backend connection:', error);\n    }\n  };\n  const handleInputChange = e => {\n    setDbConfig({\n      ...dbConfig,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleConnect = async () => {\n    try {\n      const sessionId = localStorage.getItem('sessionId') || 'session-' + Date.now();\n      localStorage.setItem('sessionId', sessionId);\n      const response = await fetch('/api/database/connect', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Session-ID': sessionId\n        },\n        body: JSON.stringify(dbConfig)\n      });\n      if (response.ok) {\n        setConnectionStatus('success');\n      } else {\n        const errorText = await response.text();\n        console.error('Connection failed:', errorText);\n        setConnectionStatus('error');\n      }\n    } catch (error) {\n      console.error('Connection error:', error);\n      setConnectionStatus('error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Database Connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Connect to your MySQL database\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Host\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"host\",\n            value: dbConfig.host,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Port\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"port\",\n            value: dbConfig.port,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            value: dbConfig.username,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            value: dbConfig.password,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Database\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"database\",\n            value: dbConfig.database,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `connect-button ${connectionStatus}`,\n          onClick: handleConnect,\n          children: connectionStatus === 'success' ? 'Connected' : 'Connect'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chat with MySQL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ChatComponent, {\n        connectionStatus: connectionStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"f2Hp0A+9stN2o6LuXJKdJsVlnAs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ChatComponent","jsxDEV","_jsxDEV","App","_s","connectionStatus","setConnectionStatus","dbConfig","setDbConfig","host","port","username","password","database","testBackendConnection","response","fetch","ok","console","log","error","handleInputChange","e","target","name","value","handleConnect","sessionId","localStorage","getItem","Date","now","setItem","method","headers","body","JSON","stringify","errorText","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/manmohan/dbchat/frontend/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport ChatComponent from './ChatComponent';\n\nfunction App() {\n  const [connectionStatus, setConnectionStatus] = useState('');\n  const [dbConfig, setDbConfig] = useState({\n    host: 'localhost',\n    port: '3306',\n    username: 'root',\n    password: '',\n    database: 'testdb',\n  });\n\n  useEffect(() => {\n    testBackendConnection();\n  }, []);\n\n  const testBackendConnection = async () => {\n    try {\n      const response = await fetch('/api/database/test');\n      if (response.ok) {\n        console.log('Backend is reachable');\n      } else {\n        console.error('Failed to reach backend');\n      }\n    } catch (error) {\n      console.error('Error testing backend connection:', error);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    setDbConfig({ ...dbConfig, [e.target.name]: e.target.value });\n  };\n\n  const handleConnect = async () => {\n    try {\n      const sessionId =\n          localStorage.getItem('sessionId') || 'session-' + Date.now();\n      localStorage.setItem('sessionId', sessionId);\n\n      const response = await fetch('/api/database/connect', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Session-ID': sessionId,\n        },\n        body: JSON.stringify(dbConfig),\n      });\n\n      if (response.ok) {\n        setConnectionStatus('success');\n      } else {\n        const errorText = await response.text();\n        console.error('Connection failed:', errorText);\n        setConnectionStatus('error');\n      }\n    } catch (error) {\n      console.error('Connection error:', error);\n      setConnectionStatus('error');\n    }\n  };\n\n  return (\n      <div className=\"app-container\">\n        <div className=\"sidebar\">\n          <div className=\"sidebar-content\">\n            <h2>Database Connection</h2>\n            <p>Connect to your MySQL database</p>\n            <div className=\"form-group\">\n              <label>Host</label>\n              <input\n                  type=\"text\"\n                  name=\"host\"\n                  value={dbConfig.host}\n                  onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Port</label>\n              <input\n                  type=\"text\"\n                  name=\"port\"\n                  value={dbConfig.port}\n                  onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Username</label>\n              <input\n                  type=\"text\"\n                  name=\"username\"\n                  value={dbConfig.username}\n                  onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input\n                  type=\"password\"\n                  name=\"password\"\n                  value={dbConfig.password}\n                  onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Database</label>\n              <input\n                  type=\"text\"\n                  name=\"database\"\n                  value={dbConfig.database}\n                  onChange={handleInputChange}\n              />\n            </div>\n            <button\n                className={`connect-button ${connectionStatus}`}\n                onClick={handleConnect}\n            >\n              {connectionStatus === 'success' ? 'Connected' : 'Connect'}\n            </button>\n          </div>\n        </div>\n        <main className=\"main-content\">\n          <h1>Chat with MySQL</h1>\n          <ChatComponent connectionStatus={connectionStatus} />\n        </main>\n      </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}